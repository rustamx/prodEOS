////////////////////////////////////////////////////////////////////////////////
// Подсистема "Загрузка данных из файла".
//  
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Определяет список справочников, доступных для загрузки с помощью подсистемы "Загрузка данных из файла".
//
// Параметры:
//  ЗагружаемыеСправочники - ТаблицаЗначений - список справочников, в которые возможна загрузка данных.
//      * ПолноеИмя          - Строка - полное имя справочника (как в метаданных).
//      * Представление      - Строка - представление справочника в списке выбора.
//      * ПрикладнаяЗагрузка - Булево - если Истина, значит справочник использует собственный алгоритм загрузки и
//                                      в модуле менеджера справочника определены функции.
//
Процедура ПриОпределенииСправочниковДляЗагрузкиДанных(ЗагружаемыеСправочники) Экспорт
	
	НеЗагружаемыеСправочники = Новый Массив;
	НеЗагружаемыеСправочники.Добавить("Справочник.ДескрипторыДоступаОбъектов");
	НеЗагружаемыеСправочники.Добавить("Справочник.ДескрипторыДоступаРегистров");
	НеЗагружаемыеСправочники.Добавить("Справочник.ИменаПредметов");
	НеЗагружаемыеСправочники.Добавить("Справочник.ИдентификаторыОбъектовМетаданных");
	НеЗагружаемыеСправочники.Добавить("Справочник.ПредметыИнструкций");
	НеЗагружаемыеСправочники.Добавить("Справочник.СообщенияИнтегрированныхСистем");
	
	Для Каждого НеЗагружаемыйСправочник Из НеЗагружаемыеСправочники Цикл
		СтрокаТаблицы = ЗагружаемыеСправочники.Найти(НеЗагружаемыйСправочник, "ПолноеИмя");
		Если СтрокаТаблицы <> Неопределено Тогда
			ЗагружаемыеСправочники.Удалить(СтрокаТаблицы);
		КонецЕсли;
	КонецЦикла;
	
	СправочникиПрикладнойЗагрузки = Новый Массив;
	СправочникиПрикладнойЗагрузки.Добавить("Справочник.ra_ZdaniyaSooruzheniya");
	СправочникиПрикладнойЗагрузки.Добавить("Справочник.ra_TekhnologicheskieSistemy");
	СправочникиПрикладнойЗагрузки.Добавить("Справочник.ra_Oborudovanie");

	Для Каждого СправочникПрикладнойЗагрузки Из СправочникиПрикладнойЗагрузки Цикл
		СтрокаТаблицы = ЗагружаемыеСправочники.Найти(СправочникПрикладнойЗагрузки, "ПолноеИмя");
		Если СтрокаТаблицы <> Неопределено Тогда
			СтрокаТаблицы.ПрикладнаяЗагрузка = Истина;
		КонецЕсли;
	КонецЦикла;
	
	МетаданныеСправочника = Метаданные.Справочники.ra_VidyNesootvetstvij;
	СтрокаТаблицы = ЗагружаемыеСправочники.Добавить();
	СтрокаТаблицы.ПолноеИмя     = МетаданныеСправочника.ПолноеИмя();
	СтрокаТаблицы.Представление = МетаданныеСправочника.Представление();
	СтрокаТаблицы.ПрикладнаяЗагрузка = Ложь;
	
КонецПроцедуры

#КонецОбласти
